{"version":3,"file":"script.js","sources":["src/index.js"],"sourcesContent":["import { Type, Validation } from 'main.core';\nimport { BitrixVue } from 'ui.vue3';\n\nexport type SystemAuthForgotPasswordParamsType = {\n\tcontainerNode: HTMLElement,\n\tisFormVisible: boolean,\n}\n\nexport class SystemAuthForgotPassword\n{\n\t#application;\n\t#rootNode: HTMLElement;\n\t#isFormVisible: boolean;\n\n\tconstructor(params: SystemAuthForgotPasswordParamsType): void\n\t{\n\t\tthis.#rootNode = params.containerNode;\n\t\tthis.#isFormVisible = params.isFormVisible === 'Y';\n\n\t\tif (!Type.isDomNode(this.#rootNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#initVueApp();\n\t}\n\n\t#initVueApp(): void\n\t{\n\t\tconst context = this;\n\n\t\tthis.#application = BitrixVue.createApp({\n\t\t\tname: 'SystemAuthForgotPassword',\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tisWaiting: false,\n\t\t\t\t\tisFormVisible: this.getApplication().#isFormVisible,\n\t\t\t\t\tisEmailEntered: false,\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeCreate(): void\n\t\t\t{\n\t\t\t\tthis.$bitrix.Application.set(context);\n\t\t\t},\n\t\t\tcomputed: {\n\t\t\t\tloginOrEmail(): string\n\t\t\t\t{\n\t\t\t\t\treturn (this.isEmailEntered) ? 'USER_EMAIL' : 'USER_LOGIN';\n\t\t\t\t},\n\t\t\t},\n\t\t\tmounted(): void\n\t\t\t{\n\t\t\t\tif (this.$refs && Type.isDomNode(this.$refs.modalInput))\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.modalInput.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tonEnterLoginOrEmail(value: string): void\n\t\t\t\t{\n\t\t\t\t\tthis.isEmailEntered = Validation.isEmail(value);\n\t\t\t\t},\n\n\t\t\t\tonSubmitForm(): void\n\t\t\t\t{\n\t\t\t\t\tthis.isWaiting = true;\n\t\t\t\t},\n\n\t\t\t\tgetApplication()\n\t\t\t\t{\n\t\t\t\t\treturn this.$bitrix.Application.get();\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tthis.#application.mount(this.#rootNode);\n\t}\n}"],"names":["SystemAuthForgotPassword","params","containerNode","isFormVisible","Type","isDomNode","context","BitrixVue","createApp","name","data","isWaiting","getApplication","isEmailEntered","beforeCreate","$bitrix","Application","set","computed","loginOrEmail","mounted","$refs","modalInput","focus","methods","onEnterLoginOrEmail","value","Validation","isEmail","onSubmitForm","get","mount"],"mappings":";;;;;;;;;;;;;;AAQA,KAAaA,wBAAb,GAMC,kCAAYC,MAAZ,EACA;CAAA;;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CACC,qDAAiBA,MAAM,CAACC,aAAxB;CACA,0DAAsBD,MAAM,CAACE,aAAP,KAAyB,GAA/C;;CAEA,MAAI,CAACC,cAAI,CAACC,SAAL,mCAAe,IAAf,aAAL,EACA;CACC;CACA;;CAED;CACA,CAjBF;;4CAoBC;CACC,MAAMC,OAAO,GAAG,IAAhB;CAEA,wDAAoBC,iBAAS,CAACC,SAAV,CAAoB;CACvCC,IAAAA,IAAI,EAAE,0BADiC;CAEvCC,IAAAA,IAFuC,kBAGvC;CACC,aAAO;CACNC,QAAAA,SAAS,EAAE,KADL;CAENR,QAAAA,aAAa,oCAAE,KAAKS,cAAL,EAAF,iBAFP;CAGNC,QAAAA,cAAc,EAAE;CAHV,OAAP;CAKA,KATsC;CAUvCC,IAAAA,YAVuC,0BAWvC;CACC,WAAKC,OAAL,CAAaC,WAAb,CAAyBC,GAAzB,CAA6BX,OAA7B;CACA,KAbsC;CAcvCY,IAAAA,QAAQ,EAAE;CACTC,MAAAA,YADS,0BAET;CACC,eAAQ,KAAKN,cAAN,GAAwB,YAAxB,GAAuC,YAA9C;CACA;CAJQ,KAd6B;CAoBvCO,IAAAA,OApBuC,qBAqBvC;CACC,UAAI,KAAKC,KAAL,IAAcjB,cAAI,CAACC,SAAL,CAAe,KAAKgB,KAAL,CAAWC,UAA1B,CAAlB,EACA;CACC,aAAKD,KAAL,CAAWC,UAAX,CAAsBC,KAAtB;CACA;CACD,KA1BsC;CA2BvCC,IAAAA,OAAO,EAAE;CACRC,MAAAA,mBADQ,+BACYC,KADZ,EAER;CACC,aAAKb,cAAL,GAAsBc,oBAAU,CAACC,OAAX,CAAmBF,KAAnB,CAAtB;CACA,OAJO;CAMRG,MAAAA,YANQ,0BAOR;CACC,aAAKlB,SAAL,GAAiB,IAAjB;CACA,OATO;CAWRC,MAAAA,cAXQ,4BAYR;CACC,eAAO,KAAKG,OAAL,CAAaC,WAAb,CAAyBc,GAAzB,EAAP;CACA;CAdO;CA3B8B,GAApB,CAApB;CA4CA,wDAAkBC,KAAlB,mCAAwB,IAAxB;CACA;;;;;;;;"}