this.BX=this.BX||{};(function(e,i,s){"use strict";function t(e,i,s){if(!i.has(e)){throw new TypeError("attempted to get private field on non-instance")}return s}var a=new WeakMap;var l=new WeakMap;var r=new WeakMap;var n=new WeakMap;var o=new WeakMap;var u=new WeakMap;var c=new WeakMap;var h=new WeakMap;var p=new WeakMap;var d=new WeakSet;var b=function e(i){var s,b,f,m;babelHelpers.classCallCheck(this,e);d.add(this);a.set(this,{writable:true,value:void 0});l.set(this,{writable:true,value:void 0});r.set(this,{writable:true,value:void 0});n.set(this,{writable:true,value:void 0});o.set(this,{writable:true,value:void 0});u.set(this,{writable:true,value:void 0});c.set(this,{writable:true,value:void 0});h.set(this,{writable:true,value:void 0});p.set(this,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,l,i.containerNode);babelHelpers.classPrivateFieldSet(this,r,i.isEmailRequired==="Y");babelHelpers.classPrivateFieldSet(this,n,i.isConfirmRegistrationBlockVisible==="Y");babelHelpers.classPrivateFieldSet(this,o,i.isCaptchaAvailable==="Y");babelHelpers.classPrivateFieldSet(this,u,(s=i.userName)!==null&&s!==void 0?s:"");babelHelpers.classPrivateFieldSet(this,c,(b=i.userLastName)!==null&&b!==void 0?b:"");babelHelpers.classPrivateFieldSet(this,h,(f=i.userEmail)!==null&&f!==void 0?f:"");babelHelpers.classPrivateFieldSet(this,p,(m=i.userLogin)!==null&&m!==void 0?m:"");t(this,d,v).call(this);BX.UI.Hint.init(babelHelpers.classPrivateFieldGet(this,l))};var v=function e(){var t=this;babelHelpers.classPrivateFieldSet(this,a,s.BitrixVue.createApp({name:"SystemAuthRegistration",data:function e(){return{isNameBlockVisible:true,isPasswordBlockVisible:false,isCaptchaBlockVisible:false,isBackButtonVisible:false,userName:babelHelpers.classPrivateFieldGet(this.getApplication(),u),userLastName:babelHelpers.classPrivateFieldGet(this.getApplication(),c),userEmail:babelHelpers.classPrivateFieldGet(this.getApplication(),h),userLogin:babelHelpers.classPrivateFieldGet(this.getApplication(),p),isEmailRequired:babelHelpers.classPrivateFieldGet(this.getApplication(),r),isConfirmRegistrationBlockVisible:babelHelpers.classPrivateFieldGet(this.getApplication(),n),isCaptchaAvailable:babelHelpers.classPrivateFieldGet(this.getApplication(),o),isWaiting:false,inputPasswordType:"password",inputConfirmPasswordType:"password"}},beforeCreate:function e(){this.$bitrix.Application.set(t)},computed:{fullName:function e(){return this.toFullName()},email:function e(){return this.userEmail},activeOrDisabledButtonClass:function e(){return this.isEnteredValidLoginAndEmail()?"ui-btn-success":"ui-btn-disabled"}},mounted:function e(){if(this.$refs&&i.Type.isDomNode(this.$refs.modalInput)){this.$refs.modalInput.focus()}},methods:{onButtonClick:function e(i){if(this.isNameBlockVisible){i.preventDefault();if(this.isEnteredValidLoginAndEmail()){this.showPasswordBlock();this.isBackButtonVisible=true}}else if(this.isPasswordBlockVisible&&this.isCaptchaAvailable){i.preventDefault();this.showCaptchaBlock();this.isBackButtonVisible=true}else{this.isWaiting=true}},onBackButtonClick:function e(){if(this.isPasswordBlockVisible){this.showNameBlock();this.isBackButtonVisible=false}else if(this.isCaptchaAvailable&&this.isCaptchaBlockVisible){this.showPasswordBlock()}},showNameBlock:function e(){this.isNameBlockVisible=true;this.isPasswordBlockVisible=false;this.isCaptchaBlockVisible=false},showPasswordBlock:function e(){this.isNameBlockVisible=false;this.isPasswordBlockVisible=true;this.isCaptchaBlockVisible=false},showCaptchaBlock:function e(){this.isNameBlockVisible=false;this.isPasswordBlockVisible=false;this.isCaptchaBlockVisible=true},toFullName:function e(){var i=this.userName!==""&&this.userLastName!==""?" ":"";return"".concat(this.userName).concat(i).concat(this.userLastName)},onEnterUserEmail:function e(i){this.userEmail=i},isEmailEnteredCorrectly:function e(){return i.Validation.isEmail(this.userEmail)},onEnterUserLogin:function e(i){this.userLogin=i},isLoginEnteredCorrectly:function e(){return this.userLogin.length>=3},onEnterUserName:function e(i){this.userName=i},onEnterUserLastName:function e(i){this.userLastName=i},isEnteredValidLoginAndEmail:function e(){return this.isLoginEnteredCorrectly()&&(!this.isEmailRequired||this.isEmailRequired&&this.isEmailEnteredCorrectly())},onEyeMouseDown:function e(i){if(i==="PASSWORD"){this.inputPasswordType="text"}else{this.inputConfirmPasswordType="text"}},onEyeMouseUp:function e(i){if(i==="PASSWORD"){this.inputPasswordType="password"}else{this.inputConfirmPasswordType="password"}},getApplication:function e(){return this.$bitrix.Application.get()}}}));babelHelpers.classPrivateFieldGet(this,a).mount(babelHelpers.classPrivateFieldGet(this,l))};e.SystemAuthRegistration=b})(this.BX.Intranet=this.BX.Intranet||{},BX,BX.Vue3);
//# sourceMappingURL=script.map.js