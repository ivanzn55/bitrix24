{"version":3,"file":"script.js","sources":["src/index.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue3';\nimport { Type } from 'main.core';\n\nexport type SystemAuthChangePasswordParamsType = {\n\tcontainerNode: HTMLElement,\n\tisFormVisible: boolean,\n\tisCaptchaAvailable: boolean,\n}\n\nexport class SystemAuthChangePassword\n{\n\t#application;\n\t#rootNode: HTMLElement;\n\t#isFormVisible: boolean;\n\t#isCaptchaAvailable: boolean;\n\n\tconstructor(params: SystemAuthChangePasswordParamsType): void\n\t{\n\t\tthis.#rootNode = params.containerNode;\n\t\tthis.#isFormVisible = params.isFormVisible === 'Y';\n\t\tthis.#isCaptchaAvailable = params.isCaptchaAvailable === 'Y';\n\n\t\tif (!Type.isDomNode(this.#rootNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#initVueApp();\n\t}\n\n\t#initVueApp(): void\n\t{\n\t\tconst context = this;\n\n\t\tthis.#application = BitrixVue.createApp({\n\t\t\tname: 'SystemAuthChangePassword',\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tisWaiting: false,\n\t\t\t\t\tisFormVisible: this.getApplication().#isFormVisible,\n\t\t\t\t\tisCaptchaAvailable: this.getApplication().#isCaptchaAvailable,\n\t\t\t\t\tisPasswordBlockVisible: true,\n\t\t\t\t\tisCaptchaBlockVisible: false,\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeCreate(): void\n\t\t\t{\n\t\t\t\tthis.$bitrix.Application.set(context);\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tonButtonClick(event): void\n\t\t\t\t{\n\t\t\t\t\tif (this.isCaptchaAvailable && !this.isCaptchaBlockVisible)\n\t\t\t\t\t{\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.showCaptchaBlock();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isWaiting = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tshowCaptchaBlock(): void\n\t\t\t\t{\n\t\t\t\t\tthis.isPasswordBlockVisible = false;\n\t\t\t\t\tthis.isCaptchaBlockVisible = true;\n\t\t\t\t},\n\n\t\t\t\tgetApplication()\n\t\t\t\t{\n\t\t\t\t\treturn this.$bitrix.Application.get();\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tthis.#application.mount(this.#rootNode);\n\t}\n}"],"names":["SystemAuthChangePassword","params","containerNode","isFormVisible","isCaptchaAvailable","Type","isDomNode","context","BitrixVue","createApp","name","data","isWaiting","getApplication","isPasswordBlockVisible","isCaptchaBlockVisible","beforeCreate","$bitrix","Application","set","methods","onButtonClick","event","preventDefault","showCaptchaBlock","get","mount"],"mappings":";;;;;;;;;;;;;;;;AASA,KAAaA,wBAAb,GAOC,kCAAYC,MAAZ,EACA;CAAA;;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CACC,qDAAiBA,MAAM,CAACC,aAAxB;CACA,0DAAsBD,MAAM,CAACE,aAAP,KAAyB,GAA/C;CACA,+DAA2BF,MAAM,CAACG,kBAAP,KAA8B,GAAzD;;CAEA,MAAI,CAACC,cAAI,CAACC,SAAL,mCAAe,IAAf,aAAL,EACA;CACC;CACA;;CAED;CACA,CAnBF;;4CAsBC;CACC,MAAMC,OAAO,GAAG,IAAhB;CAEA,wDAAoBC,iBAAS,CAACC,SAAV,CAAoB;CACvCC,IAAAA,IAAI,EAAE,0BADiC;CAEvCC,IAAAA,IAFuC,kBAGvC;CACC,aAAO;CACNC,QAAAA,SAAS,EAAE,KADL;CAENT,QAAAA,aAAa,oCAAE,KAAKU,cAAL,EAAF,iBAFP;CAGNT,QAAAA,kBAAkB,oCAAE,KAAKS,cAAL,EAAF,sBAHZ;CAINC,QAAAA,sBAAsB,EAAE,IAJlB;CAKNC,QAAAA,qBAAqB,EAAE;CALjB,OAAP;CAOA,KAXsC;CAYvCC,IAAAA,YAZuC,0BAavC;CACC,WAAKC,OAAL,CAAaC,WAAb,CAAyBC,GAAzB,CAA6BZ,OAA7B;CACA,KAfsC;CAgBvCa,IAAAA,OAAO,EAAE;CACRC,MAAAA,aADQ,yBACMC,KADN,EAER;CACC,YAAI,KAAKlB,kBAAL,IAA2B,CAAC,KAAKW,qBAArC,EACA;CACCO,UAAAA,KAAK,CAACC,cAAN;CACA,eAAKC,gBAAL;CACA,SAJD,MAMA;CACC,eAAKZ,SAAL,GAAiB,IAAjB;CACA;CACD,OAZO;CAcRY,MAAAA,gBAdQ,8BAeR;CACC,aAAKV,sBAAL,GAA8B,KAA9B;CACA,aAAKC,qBAAL,GAA6B,IAA7B;CACA,OAlBO;CAoBRF,MAAAA,cApBQ,4BAqBR;CACC,eAAO,KAAKI,OAAL,CAAaC,WAAb,CAAyBO,GAAzB,EAAP;CACA;CAvBO;CAhB8B,GAApB,CAApB;CA0CA,wDAAkBC,KAAlB,mCAAwB,IAAxB;CACA;;;;;;;;"}